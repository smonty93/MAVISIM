{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to the Documentation for MAVISIM MAVISIM is a tool to simulate images generated by the MCAO Assisted Visible Imager and Spectrograph (MAVIS) instrument. MAVIS is an instrument being designed for ESO's VLT AOF (Adaptive Optics Facility, UT4 Yepun) with plans to go on-sky ~2027. For more information on MAVIS visit this link. Current Version: 1.0 MAVISIM 1.0 is optimised to explore the astrometric capabilities of MAVIS. Specifically, it utilises a Fourier approximation of the MAVIS PSF to simulate a monochromatic image of point sources. Capabilities Simulate a full stellar field with built-in PSF spatial variability Optimised for astrometric studies Models three major sources of astrometric error introduced by the AO system: Field variable tip-tilt residuals originating from uncorrected low-order aberrations (dependent on the natural guide star constellation brightness and geometry) Field variable high-order aberrations originating from the laser guide star constellation and characteristics Static field distortion originating from the adaptive optics module Limitations Monochromatic images only Only compatible with an analytical approximate model of the MAVIS PSF using the Fourier method Point source input catalogues only If you're not sure which version has what you need, here is a comparison of the current version with the planned upgrades in future versions. Version PSF Source PSF Field Variability Wavelength Coverage Scientific Sources 1.0 Fourier Approximation Yes Monochromatic - see PSF database for options Point sources only 1.1 End-to-end PSF Yes Monochromatic - see PSF database for options Point sources only 1.2 dev End-to-end PSF Yes Broadband - see filter and PSF database for options Point sources only 2.0 End-to-end PSF Yes Broadband - see filter and PSF database for options Extended objects","title":"Welcome to the Documentation for MAVISIM"},{"location":"#welcome-to-the-documentation-for-mavisim","text":"MAVISIM is a tool to simulate images generated by the MCAO Assisted Visible Imager and Spectrograph (MAVIS) instrument. MAVIS is an instrument being designed for ESO's VLT AOF (Adaptive Optics Facility, UT4 Yepun) with plans to go on-sky ~2027. For more information on MAVIS visit this link.","title":"Welcome to the Documentation for MAVISIM"},{"location":"#current-version-10","text":"MAVISIM 1.0 is optimised to explore the astrometric capabilities of MAVIS. Specifically, it utilises a Fourier approximation of the MAVIS PSF to simulate a monochromatic image of point sources. Capabilities Simulate a full stellar field with built-in PSF spatial variability Optimised for astrometric studies Models three major sources of astrometric error introduced by the AO system: Field variable tip-tilt residuals originating from uncorrected low-order aberrations (dependent on the natural guide star constellation brightness and geometry) Field variable high-order aberrations originating from the laser guide star constellation and characteristics Static field distortion originating from the adaptive optics module Limitations Monochromatic images only Only compatible with an analytical approximate model of the MAVIS PSF using the Fourier method Point source input catalogues only If you're not sure which version has what you need, here is a comparison of the current version with the planned upgrades in future versions. Version PSF Source PSF Field Variability Wavelength Coverage Scientific Sources 1.0 Fourier Approximation Yes Monochromatic - see PSF database for options Point sources only 1.1 End-to-end PSF Yes Monochromatic - see PSF database for options Point sources only 1.2 dev End-to-end PSF Yes Broadband - see filter and PSF database for options Point sources only 2.0 End-to-end PSF Yes Broadband - see filter and PSF database for options Extended objects","title":"Current Version: 1.0"},{"location":"install/","text":"Installation MAVISIM is not currently uploaded to the Python Package Index and thus is not yet pip installable. To install MAVISIM 1.0 please download the main branch. The following are some simple ways to include the package. Include ideas for how to link to mavisim? Dependencies","title":"Installation"},{"location":"install/#installation","text":"MAVISIM is not currently uploaded to the Python Package Index and thus is not yet pip installable. To install MAVISIM 1.0 please download the main branch. The following are some simple ways to include the package. Include ideas for how to link to mavisim?","title":"Installation"},{"location":"install/#dependencies","text":"","title":"Dependencies"},{"location":"runningmavisim/","text":"Running MAVISIM 1.0: The Long Version Version 1.0 of MAVISIM is designed primarily to explore astrometric science cases. This is reflected in the functionality with many different options for the user to control the astrometric error terms. As such, we will go through the main classes, or objects, in MAVISIM 1.0 to help the user understand how to control each error term and grasp the basics of each component of the code. Parameter File Input File MAVISIM 1.0 can only parse an input list of point sources at this time (stay tuned for MAVISIM 2.0 to test extended object science cases). The input file is parsed as a Astropy Table and must contain the following columns. Columns with essential information are bolded. We have provided two example catalogues on GitHub in the /example directory to test MAVISIM. Column Units Description Star n/a Not essential (can set to 0) - helps track the stars across multiple epochs during proper motions studies RA degrees Not essential (can set to 0) - helps with deprojection effects if desired Dec degrees Not essential (can set to 0) - helps with deprojection effects if desired X arcseconds X-distance from the centre of the field set as (0\", 0\") PM_X mas/year Not essential (can set to 0) - can be projected or de-projected proper motion Y arcseconds Y-distance from the centre of the field set as (0\", 0\") PM_Y mas/year Not essential (can set to 0) - can be projected or de-projected proper motion Flux photons/s Used to scale the Gaussian representation of each star, multipled by the exposure time for final flux Source Object source = Source ( * kwargs ) This where the user can specify the bulk of the astrometric error terms along with the exposure time. Both the tip-tilt residual errors associated with the natural guide star constellation and static distortion introduced by the MAVIS optics are tuned in this object. The remaining high-order PSF spatial variability is dealt with in the AOGaussGrid object. The Source class handles all the user specifications and returns a source object that is used in tandem with the MAVIS Fourier PSF to create the final image. The user has the option to change the following keywords: static_dist , stat_amp , tt_var , user_tt and tt_amp . The following is a description of each keyword, including the default values. static_dist controls whether static distortion from the MAVIS optics is included (= True ) in the simulation or not (= False ). The distortion is included as a shift in the (x, y) position of the centroid of each star. A provisional distortion map from the MAVIS optical design is used to generate a map of the distortion across the field. This is used to recover the specific (x, y) distortion for each star. Note that MAVISIM deals with sub-pixel shifts. Default value is False . stat_amp controls the magnitude of the static distortion. Change this value to increase the distortion by a scalar in both the x- and y-direction. Default value is 1.0 (no amplification) tt_var controls whether the spatial variability of the tip-tilt residual error is included (= True ) or not (= False ). A map of the spatial dependency of the tip-tilt residual error (expressed as a multivariate Gaussian) is used to extract the tip-tilt for each star. MAVISIM 1.0 comes with three tip-tilt residual maps created using different natural guide star constellations and characteristics. The choice of map is specified in the input_parameters file. Default value is False . user_tt specifies whether the user would like fix the tip-tilt residual error as a specific value described by a single Gaussian kernel. This option only works when the tip-tilt residual is static ( tt_var=False ). The user specifies the value of the residual in the input_parameter file as the tt_kernel parameter. The tt_kernel is assumed to be the FWHM of the tip-tilt residual kernel in units of milli-arcseconds. By default MAVISIM 1.0 includes a charge diffusion and vibrational term in the creation of the tip-tilt residual error, if this option is used these terms will be neglected. Default value is False . tt_amp controls the magnitude of the tip-tilt residual error. Change this value to scale the tip-tilt residual error by some fixed amount. If this value is set to 0, only the charge diffusion and vibrational terms will be included in the determination of the tip-tilt residual. Default value is 1.0 (no amplification) AOGaussGrid Object This is where a unique PSF is created for each star and placed into a 4k x 4k array in preperation for creating the final image. To create each star-specific PSF, the positional information in the source object is used to recover the closest four PSFs from a grid of 11 x 11 MAVIS Fourier PSFs sampling the science field of view. The four PSFs are then interpolated using a bilinear interpolation to create the final high-order PSF for each star. The high-order PSF is then convolved with the multivariate Gaussian for each star stored in the source object to capture the terms described in the previous section. The AOGaussGrid class returns two things, i) a 4k x 4k array of stars represented by unique PSFs truncated at the AO control radius ao_field and ii) a 4k x 4k array of multivariate Gaussians capturing the tip-tilt and static distortion information only, the gauss_field . If one has no interest in the information contained in the seeing wings, you could work with the ao_field only. SeeingGrid Object Adding Detector Characteristics and Sky Background Creating the Final Image and Source Catalogue Optional Class: InputCoo","title":"Running MAVISIM 1.0: The Long Version"},{"location":"runningmavisim/#running-mavisim-10-the-long-version","text":"Version 1.0 of MAVISIM is designed primarily to explore astrometric science cases. This is reflected in the functionality with many different options for the user to control the astrometric error terms. As such, we will go through the main classes, or objects, in MAVISIM 1.0 to help the user understand how to control each error term and grasp the basics of each component of the code.","title":"Running MAVISIM 1.0: The Long Version"},{"location":"runningmavisim/#parameter-file","text":"","title":"Parameter File"},{"location":"runningmavisim/#input-file","text":"MAVISIM 1.0 can only parse an input list of point sources at this time (stay tuned for MAVISIM 2.0 to test extended object science cases). The input file is parsed as a Astropy Table and must contain the following columns. Columns with essential information are bolded. We have provided two example catalogues on GitHub in the /example directory to test MAVISIM. Column Units Description Star n/a Not essential (can set to 0) - helps track the stars across multiple epochs during proper motions studies RA degrees Not essential (can set to 0) - helps with deprojection effects if desired Dec degrees Not essential (can set to 0) - helps with deprojection effects if desired X arcseconds X-distance from the centre of the field set as (0\", 0\") PM_X mas/year Not essential (can set to 0) - can be projected or de-projected proper motion Y arcseconds Y-distance from the centre of the field set as (0\", 0\") PM_Y mas/year Not essential (can set to 0) - can be projected or de-projected proper motion Flux photons/s Used to scale the Gaussian representation of each star, multipled by the exposure time for final flux","title":"Input File"},{"location":"runningmavisim/#source-object","text":"source = Source ( * kwargs ) This where the user can specify the bulk of the astrometric error terms along with the exposure time. Both the tip-tilt residual errors associated with the natural guide star constellation and static distortion introduced by the MAVIS optics are tuned in this object. The remaining high-order PSF spatial variability is dealt with in the AOGaussGrid object. The Source class handles all the user specifications and returns a source object that is used in tandem with the MAVIS Fourier PSF to create the final image. The user has the option to change the following keywords: static_dist , stat_amp , tt_var , user_tt and tt_amp . The following is a description of each keyword, including the default values. static_dist controls whether static distortion from the MAVIS optics is included (= True ) in the simulation or not (= False ). The distortion is included as a shift in the (x, y) position of the centroid of each star. A provisional distortion map from the MAVIS optical design is used to generate a map of the distortion across the field. This is used to recover the specific (x, y) distortion for each star. Note that MAVISIM deals with sub-pixel shifts. Default value is False . stat_amp controls the magnitude of the static distortion. Change this value to increase the distortion by a scalar in both the x- and y-direction. Default value is 1.0 (no amplification) tt_var controls whether the spatial variability of the tip-tilt residual error is included (= True ) or not (= False ). A map of the spatial dependency of the tip-tilt residual error (expressed as a multivariate Gaussian) is used to extract the tip-tilt for each star. MAVISIM 1.0 comes with three tip-tilt residual maps created using different natural guide star constellations and characteristics. The choice of map is specified in the input_parameters file. Default value is False . user_tt specifies whether the user would like fix the tip-tilt residual error as a specific value described by a single Gaussian kernel. This option only works when the tip-tilt residual is static ( tt_var=False ). The user specifies the value of the residual in the input_parameter file as the tt_kernel parameter. The tt_kernel is assumed to be the FWHM of the tip-tilt residual kernel in units of milli-arcseconds. By default MAVISIM 1.0 includes a charge diffusion and vibrational term in the creation of the tip-tilt residual error, if this option is used these terms will be neglected. Default value is False . tt_amp controls the magnitude of the tip-tilt residual error. Change this value to scale the tip-tilt residual error by some fixed amount. If this value is set to 0, only the charge diffusion and vibrational terms will be included in the determination of the tip-tilt residual. Default value is 1.0 (no amplification)","title":"Source Object"},{"location":"runningmavisim/#aogaussgrid-object","text":"This is where a unique PSF is created for each star and placed into a 4k x 4k array in preperation for creating the final image. To create each star-specific PSF, the positional information in the source object is used to recover the closest four PSFs from a grid of 11 x 11 MAVIS Fourier PSFs sampling the science field of view. The four PSFs are then interpolated using a bilinear interpolation to create the final high-order PSF for each star. The high-order PSF is then convolved with the multivariate Gaussian for each star stored in the source object to capture the terms described in the previous section. The AOGaussGrid class returns two things, i) a 4k x 4k array of stars represented by unique PSFs truncated at the AO control radius ao_field and ii) a 4k x 4k array of multivariate Gaussians capturing the tip-tilt and static distortion information only, the gauss_field . If one has no interest in the information contained in the seeing wings, you could work with the ao_field only.","title":"AOGaussGrid Object"},{"location":"runningmavisim/#seeinggrid-object","text":"","title":"SeeingGrid Object"},{"location":"runningmavisim/#adding-detector-characteristics-and-sky-background","text":"","title":"Adding Detector Characteristics and Sky Background"},{"location":"runningmavisim/#creating-the-final-image-and-source-catalogue","text":"","title":"Creating the Final Image and Source Catalogue"},{"location":"runningmavisim/#optional-class-inputcoo","text":"","title":"Optional Class: InputCoo"}]}